public class sun.plugin.extension.NativeExtensionInstaller
extends java.lang.Object
implements sun.plugin.extension.ExtensionInstaller


public NativeExtensionInstaller()
public NativeExtensionInstaller()

Max stack size: 1
Max local variables: 1
Code size: 5

   0 aload_0

   1 invokespecial #1 <Method Object()>

   4 return

Line numbers:

Line 53: pc = 0


public boolean install(java.lang.String, java.lang.String, java.lang.String)
throws java.io.IOException,
	java.lang.InterruptedException
public boolean install(java.lang.String, java.lang.String, java.lang.String)
throws java.io.IOException,
	java.lang.InterruptedException

Max stack size: 4
Max local variables: 26
Code size: 445

   0 ldc #2 <String "Launching Native Installer for Optional Package Installation">

   2 invokestatic #3 <Method void sun.plugin.usability.Trace.extPrintln(java.lang.String)>

   5 aconst_null

   6 astore 4

   8 new #4 <Class java.util.jar.JarFile>

  11 dup

  12 aload_2

  13 invokespecial #5 <Method JarFile(java.lang.String)>

  16 astore 5

  18 aload 5

  20 invokevirtual #6 <Method java.util.jar.Manifest getManifest()>

  23 astore 6

  25 aload 6

  27 invokevirtual #7 <Method java.util.jar.Attributes getMainAttributes()>

  30 astore 7

  32 aload 7

  34 getstatic #8 <Field java.util.jar.Attributes$Name java.util.jar.Attributes$Name.EXTENSION_INSTALLATION>

  37 invokevirtual #9 <Method java.lang.String getValue(java.util.jar.Attributes$Name)>

  40 astore 8

  42 aload 5

  44 aload 5

  46 aload 8

  48 invokevirtual #10 <Method java.util.zip.ZipEntry getEntry(java.lang.String)>

  51 invokevirtual #11 <Method java.io.InputStream getInputStream(java.util.zip.ZipEntry)>

  54 astore 9

  56 new #12 <Class java.io.BufferedInputStream>

  59 dup

  60 aload 9

  62 invokespecial #13 <Method BufferedInputStream(java.io.InputStream)>

  65 astore 10

  67 new #14 <Class java.lang.StringBuffer>

  70 dup

  71 invokespecial #15 <Method StringBuffer()>

  74 invokestatic #16 <Method java.lang.String sun.plugin.extension.ExtensionUtils.getTempDir()>

  77 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

  80 getstatic #18 <Field java.lang.String java.io.File.separator>

  83 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

  86 aload 8

  88 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

  91 invokevirtual #19 <Method java.lang.String toString()>

  94 astore 4

  96 new #20 <Class java.io.FileOutputStream>

  99 dup

 100 aload 4

 102 invokespecial #21 <Method FileOutputStream(java.lang.String)>

 105 astore 11

 107 new #22 <Class java.io.BufferedOutputStream>

 110 dup

 111 aload 11

 113 invokespecial #23 <Method BufferedOutputStream(java.io.OutputStream)>

 116 astore 12

 118 aload 10

 120 aload 12

 122 invokestatic #24 <Method void sun.plugin.extension.ExtensionUtils.copy(java.io.InputStream, java.io.OutputStream)>

 125 aload 10

 127 invokevirtual #25 <Method void close()>

 130 aload 9

 132 invokevirtual #26 <Method void close()>

 135 aload 12

 137 invokevirtual #27 <Method void close()>

 140 aload 11

 142 invokevirtual #28 <Method void close()>

 145 ldc #29 <String "os.name">

 147 invokestatic #30 <Method java.lang.String java.lang.System.getProperty(java.lang.String)>

 150 astore 13

 152 ldc #31 <String "java.home">

 154 invokestatic #30 <Method java.lang.String java.lang.System.getProperty(java.lang.String)>

 157 astore 14

 159 aload 13

 161 ldc #32 <String "Windows">

 163 invokevirtual #33 <Method int indexOf(java.lang.String)>

 166 iconst_m1

 167 if_icmpne 371

 170 invokestatic #34 <Method java.lang.Runtime java.lang.Runtime.getRuntime()>

 173 new #14 <Class java.lang.StringBuffer>

 176 dup

 177 invokespecial #15 <Method StringBuffer()>

 180 ldc #35 <String "chmod 755 ">

 182 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

 185 aload 4

 187 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

 190 invokevirtual #19 <Method java.lang.String toString()>

 193 invokevirtual #36 <Method java.lang.Process exec(java.lang.String)>

 196 astore 15

 198 aload 15

 200 invokevirtual #37 <Method int waitFor()>

 203 pop

 204 new #38 <Class java.io.File>

 207 dup

 208 aload 14

 210 invokespecial #39 <Method File(java.lang.String)>

 213 astore 16

 215 invokestatic #34 <Method java.lang.Runtime java.lang.Runtime.getRuntime()>

 218 aload 4

 220 aconst_null

 221 aload 16

 223 invokevirtual #40 <Method java.lang.Process exec(java.lang.String, java.lang.String[], java.io.File)>

 226 astore 17

 228 aload 17

 230 invokevirtual #37 <Method int waitFor()>

 233 istore 18

 235 iload 18

 237 ifeq 275

 240 new #14 <Class java.lang.StringBuffer>

 243 dup

 244 invokespecial #15 <Method StringBuffer()>

 247 ldc #41 <String "Unable to execute ">

 249 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

 252 aload 4

 254 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

 257 invokevirtual #19 <Method java.lang.String toString()>

 260 invokestatic #3 <Method void sun.plugin.usability.Trace.extPrintln(java.lang.String)>

 263 iconst_0

 264 istore 19

 266 jsr 330

 269 jsr 411

 272 iload 19

 274 ireturn

 275 jsr 330

 278 goto 381

 281 astore 16

 283 new #14 <Class java.lang.StringBuffer>

 286 dup

 287 invokespecial #15 <Method StringBuffer()>

 290 ldc #43 <String "Access to ">

 292 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

 295 aload 14

 297 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

 300 ldc #44 <String " failed">

 302 invokevirtual #17 <Method java.lang.StringBuffer append(java.lang.String)>

 305 invokevirtual #19 <Method java.lang.String toString()>

 308 invokestatic #3 <Method void sun.plugin.usability.Trace.extPrintln(java.lang.String)>

 311 aload 16

 313 invokestatic #45 <Method void sun.plugin.usability.Trace.securityPrintException(java.lang.Throwable)>

 316 jsr 330

 319 goto 381

 322 astore 20

 324 jsr 330

 327 aload 20

 329 athrow

 330 astore 21

 332 aload 4

 334 ifnull 362

 337 new #38 <Class java.io.File>

 340 dup

 341 aload 4

 343 invokespecial #39 <Method File(java.lang.String)>

 346 astore 22

 348 aload 22

 350 invokevirtual #46 <Method boolean exists()>

 353 ifeq 362

 356 aload 22

 358 invokevirtual #47 <Method boolean delete()>

 361 pop

 362 iconst_0

 363 istore 22

 365 jsr 411

 368 iload 22

 370 ireturn

 371 invokestatic #34 <Method java.lang.Runtime java.lang.Runtime.getRuntime()>

 374 aload 4

 376 invokevirtual #36 <Method java.lang.Process exec(java.lang.String)>

 379 astore 15

 381 ldc #48 <String "optpkg.wait_for_installer">

 383 invokestatic #49 <Method java.lang.String sun.plugin.resources.ResourceHandler.getMessage(java.lang.String)>

 386 ldc #50 <String "optpkg.launch_installer">

 388 invokestatic #49 <Method java.lang.String sun.plugin.resources.ResourceHandler.getMessage(java.lang.String)>

 391 invokestatic #51 <Method void sun.plugin.usability.DialogFactory.showMessageDialog(java.lang.Object, java.lang.String)>

 394 iconst_1

 395 istore 15

 397 jsr 411

 400 iload 15

 402 ireturn

 403 astore 23

 405 jsr 411

 408 aload 23

 410 athrow

 411 astore 24

 413 aload 4

 415 ifnull 443

 418 new #38 <Class java.io.File>

 421 dup

 422 aload 4

 424 invokespecial #39 <Method File(java.lang.String)>

 427 astore 25

 429 aload 25

 431 invokevirtual #46 <Method boolean exists()>

 434 ifeq 443

 437 aload 25

 439 invokevirtual #47 <Method boolean delete()>

 442 pop

 443 ret 24

Exception table:
  from  to  target type
   204  275    281  <Class java.lang.SecurityException>
   204  322    322  <Class all>
     8  403    403  <Class all>

Line numbers:

Line 78: pc = 0
Line 80: pc = 5
Line 84: pc = 8
Line 87: pc = 18
Line 88: pc = 25
Line 89: pc = 32
Line 91: pc = 42
Line 92: pc = 56
Line 94: pc = 67
Line 96: pc = 96
Line 97: pc = 107
Line 100: pc = 118
Line 102: pc = 125
Line 103: pc = 130
Line 104: pc = 135
Line 105: pc = 140
Line 107: pc = 145
Line 108: pc = 152
Line 110: pc = 159
Line 114: pc = 170
Line 118: pc = 198
Line 122: pc = 204
Line 126: pc = 215
Line 127: pc = 228
Line 128: pc = 235
Line 130: pc = 240
Line 131: pc = 263
Line 136: pc = 281
Line 137: pc = 311
Line 142: pc = 322
Line 144: pc = 337
Line 145: pc = 348
Line 146: pc = 356
Line 148: pc = 362
Line 155: pc = 371
Line 160: pc = 381
Line 163: pc = 394
Line 168: pc = 403
Line 170: pc = 418
Line 171: pc = 429
Line 172: pc = 437


throws java.io.IOException,
	java.lang.InterruptedException

SourceFile: NativeExtensionInstaller.java

1 Inner Class:

Inner class: java.util.jar.Attributes$Name
Outer class: java.util.jar.Attributes
Name: Name
Access Flags: public static 

